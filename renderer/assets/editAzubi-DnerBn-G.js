import{c as p,j as e}from"./client-nyetWBf2.js";import{r}from"./index-DOOLV48n.js";const b=new URLSearchParams(window.location.search),t=b.get("id"),j=()=>{const[o,a]=r.useState(""),[s,l]=r.useState(""),[c,d]=r.useState(1);r.useEffect(()=>{t&&window.api.getAzubiList().then(n=>{const i=n.find(w=>String(w.id)===t);i&&(a(i.name),l(i.vorname),d(i.lehrjahr))})},[]);const h=async()=>{t&&(await window.api.updateAzubi({id:Number(t),name:o,vorname:s,lehrjahr:c}),window.opener&&window.opener.postMessage("azubis-updated","*"),window.close())},m=async()=>{t&&window.confirm("Azubi wirklich löschen?")&&(await window.api.deleteAzubi(Number(t)),window.opener&&window.opener.postMessage("azubis-updated","*"),window.close())};return e.jsxs("div",{style:{padding:24},children:[e.jsx("h2",{children:"Azubi bearbeiten"}),e.jsx("div",{style:{marginBottom:12},children:e.jsxs("label",{children:["Name: ",e.jsx("input",{value:o,onChange:n=>a(n.target.value)})]})}),e.jsx("div",{style:{marginBottom:12},children:e.jsxs("label",{children:["Vorname: ",e.jsx("input",{value:s,onChange:n=>l(n.target.value)})]})}),e.jsx("div",{style:{marginBottom:12},children:e.jsxs("label",{children:["Lehrjahr:",e.jsxs("select",{value:c,onChange:n=>d(Number(n.target.value)),children:[e.jsx("option",{value:1,children:"1"}),e.jsx("option",{value:2,children:"2"}),e.jsx("option",{value:3,children:"3"})]})]})}),e.jsx("button",{onClick:h,children:"Speichern"}),e.jsx("button",{onClick:m,style:{marginLeft:8,color:"red"},children:"Löschen"}),e.jsx("button",{onClick:()=>window.close(),style:{marginLeft:8},children:"Abbrechen"})]})},u=document.getElementById("edit-azubi-root");u&&p.createRoot(u).render(e.jsx(j,{}));
