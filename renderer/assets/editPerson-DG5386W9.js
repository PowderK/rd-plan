import{c as v,j as e}from"./client-nyetWBf2.js";import{r as n}from"./index-DOOLV48n.js";const k=()=>{const r=Number(new URLSearchParams(window.location.search).get("id")),[s,a]=n.useState(""),[i,o]=n.useState(""),[c,h]=n.useState(100),[l,d]=n.useState(!1),[u,g]=n.useState(!1),[x,m]=n.useState(!1),[f,j]=n.useState(!1),[p,w]=n.useState(!1);n.useEffect(()=>{r&&(async()=>{const t=await window.api.getPerson(r);t&&(a(t.name||""),o(t.vorname||""),h(t.teilzeit??100),d(!!t.fahrzeugfuehrer),g(!!t.fahrzeugfuehrerHLFB),m(!!t.nef),j(!!t.itwMaschinist),w(!!t.itwFahrzeugfuehrer))})()},[r]);const y=async()=>{await window.api.updatePerson({id:r,name:s,vorname:i,teilzeit:c,fahrzeugfuehrer:l,fahrzeugfuehrerHLFB:u,nef:x,itwMaschinist:f,itwFahrzeugfuehrer:p}),window.opener&&window.opener.postMessage("personnel-updated","*"),window.close()};return e.jsxs("div",{style:{padding:24},children:[e.jsx("h2",{children:"Personal 채ndern"}),e.jsx("div",{style:{marginBottom:12},children:e.jsxs("label",{children:["Name: ",e.jsx("input",{value:s,onChange:t=>a(t.target.value)})]})}),e.jsx("div",{style:{marginBottom:12},children:e.jsxs("label",{children:["Vorname: ",e.jsx("input",{value:i,onChange:t=>o(t.target.value)})]})}),e.jsx("div",{style:{marginBottom:12},children:e.jsxs("label",{children:["Teilzeit (%): ",e.jsx("input",{type:"number",value:c,min:0,max:100,onChange:t=>h(Number(t.target.value))})]})}),e.jsx("div",{style:{marginBottom:12},children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:l,onChange:t=>d(t.target.checked)})," Fahrzeugf체hrer"]})}),e.jsx("div",{style:{marginBottom:12},children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:u,onChange:t=>g(t.target.checked)})," Fahrzeugf체hrer HLF-B"]})}),e.jsx("div",{style:{marginBottom:12},children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:x,onChange:t=>m(t.target.checked)})," NEF"]})}),e.jsx("div",{style:{marginBottom:12},children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:f,onChange:t=>j(t.target.checked)})," ITW Maschinist"]})}),e.jsx("div",{style:{marginBottom:12},children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:p,onChange:t=>w(t.target.checked)})," ITW Fahrzeugf체hrer"]})}),e.jsx("button",{onClick:y,children:"Speichern"}),e.jsx("button",{onClick:()=>window.close(),style:{marginLeft:8},children:"Abbrechen"})]})},b=document.getElementById("edit-person-root");b&&v.createRoot(b).render(e.jsx(k,{}));
